import{r as t,h as i,H as s}from"./p-73696195.js";import{Logger as r,I18n as a}from"@aws-amplify/core";import{A as e}from"./p-f199eef0.js";import"@aws-amplify/auth";import{T as o}from"./p-68811d9c.js";import"./p-50fc1c0c.js";import"@aws-amplify/storage";import{c as p,p as h,g as c}from"./p-a473b043.js";const m=new r("S3ImagePicker"),l=class{constructor(i){t(this,i),this.contentType="binary/octet-stream",this.level=e.Public,this.headerTitle=a.get(o.IMAGE_PICKER_TITLE),this.headerHint=a.get(o.IMAGE_PICKER_HINT),this.placeholderHint=a.get(o.IMAGE_PICKER_PLACEHOLDER_HINT),this.buttonText=a.get(o.IMAGE_PICKER_BUTTON_TEXT),this.handlePick=async t=>{const{path:i="",level:s,track:r,identityId:a,fileToKey:e}=this,o=i+p(t,e);try{await h(o,t,s,r,t.type,m),this.src=await c(o,s,r,a,m)}catch(l){throw m.error(l),new Error(l)}}}render(){return i(s,null,i("slot",{name:"photo-picker"},i("amplify-photo-picker",{previewSrc:this.src,handleClick:this.handlePick,headerTitle:this.headerTitle,headerHint:this.headerHint,placeholderHint:this.placeholderHint,buttonText:this.buttonText})))}};export{l as amplify_s3_image_picker}