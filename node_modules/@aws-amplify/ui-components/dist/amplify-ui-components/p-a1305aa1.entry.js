import{r as t,h as s,H as e}from"./p-73696195.js";import{Logger as i,I18n as r}from"@aws-amplify/core";import{A as a}from"./p-f199eef0.js";import"@aws-amplify/auth";import{T as p}from"./p-68811d9c.js";import"./p-50fc1c0c.js";import"@aws-amplify/storage";import{c as o,p as c}from"./p-a473b043.js";const h=new i("S3TextPicker"),l=class{constructor(s){t(this,s),this.contentType="text/*",this.level=a.Public,this.fallbackText=r.get(p.PICKER_TEXT)}async handleInput(t){const s=t.target.files[0],{path:e="",level:i,fileToKey:r,track:a}=this,p=e+o(s,r);if(!s)throw new Error("No file was selected");try{await c(p,s,i,a,s.type,h),this.src=p}catch(l){throw h.debug(l),new Error(l)}}render(){return s(e,null,s("amplify-s3-text",{textKey:this.src,path:this.path,level:this.level,track:this.track,identityId:this.identityId,contentType:this.contentType,fallbackText:this.fallbackText}),s("amplify-picker",{inputHandler:t=>this.handleInput(t),acceptValue:"text/*"}))}};export{l as amplify_s3_text_picker}